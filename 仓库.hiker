海阔视界规则分享，当前分享的是：小程序￥home_rule_v2￥base64://@仓库@

海阔视界规则分享，当前分享的是：小程序￥home_rule_v2￥base64://@github仓库[自]@eyJsYXN0X2NoYXB0ZXJfcnVsZSI6IiIsInRpdGxlIjoiZ2l0aHVi5LuT5bqTW+iHql0iLCJhdXRob3IiOiJ6ZiIsInVybCI6Imhpa2VyOi8vZW1wdHkjIyIsInZlcnNpb24iOjIsImNvbF90eXBlIjoidGV4dF8yIiwiY2xhc3NfbmFtZSI6IiIsInR5cGUiOiJvdGhlciIsImNsYXNzX3VybCI6IiIsImFyZWFfbmFtZSI6IiIsImFyZWFfdXJsIjoiIiwic29ydF9uYW1lIjoiIiwieWVhcl9uYW1lIjoiIiwic29ydF91cmwiOiIiLCJ5ZWFyX3VybCI6IiIsImZpbmRfcnVsZSI6ImpzOlxubGV0IGQgPSBbXTtcbmxldCBsaXN0ID0gSlNPTi5wYXJzZShmZXRjaChcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvemYyNjI5L3pmL2NvbnRlbnRzXCIpKTtcblxuLy/mg7PopoHmmL7npLrnmoTmlofku7bnsbvlnotcbmxldCB0eXBlID0gW1wiLmhpa2VyXCIsIFwiLmpzb25cIiwgXCIuanNcIiwgXCIuaGt6aXBcIiwgXCIuaHRtbFwiXTtcblxubGlzdCA9IGxpc3QuZmlsdGVyKGl0ZW0gPT4ge1xuICAgIHJldHVybiBpdGVtLnR5cGUgPT09IFwiZmlsZVwiICYmIHR5cGUuc29tZShleHQgPT4gaXRlbS5uYW1lLmVuZHNXaXRoKGV4dCkpO1xufSk7XG5cbmxldCBpdCA9IGxpc3QubWFwKGogPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGoubmFtZSxcbiAgICAgICAgdXJsOiBqLmRvd25sb2FkX3VybCxcbiAgICAgICAgc2hhOiBqLnNoYVxuICAgIH07XG59KTtcblxuZC5wdXNoKHtcbiAgICB0aXRsZTogJ/CflI0nLFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxuICAgIGRlc2M6ICfor7fovpPlhaXlhbPplK7or40nLFxuICAgIHVybDogJC50b1N0cmluZygoaXQpID0+IHtcbiAgICAgICAgZnVuY3Rpb24gc2VhcmNoKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpdC5maWx0ZXIoaXRlbSA9PiBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuYW1lLnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0cyA9IHNlYXJjaChpbnB1dCk7XG4gICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5JykucnVsZSgocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBkID0gW107XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKGogPT4ge1xuICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGoubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChbXCLliKDpmaRcIiwgXCLlpI3liLbpk77mjqVcIiwgXCLlr7zlhaXop4TliJlcIiwgXCLlr7zlhaXmlofku7ZcIiwgXCLkuIvovb1cIl0pLnNlbGVjdCgoaikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qdmFyIGggPSAoJ2h0dHBzOi8vcmF3LmdpdG1pcnJvci5jb20nICsgai51cmwuc3Vic3RyaW5nKCczMycpKTsqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoID0gJ2h0dHBzOi8vZ2gtcHJveHkuY29tLycgKyBqLnVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT09IFwi5aSN5Yi26ZO+5o6lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29weTovL+a1t+mYlOinhueVjOinhOWImeOAkFwiICsgai5uYW1lICsgXCLjgJHvv6Vob21lX3J1bGVfdXJs77+lXCIgKyBoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09IFwi5a+85YWl6KeE5YiZXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicnVsZTovL1wiICsgYmFzZTY0RW5jb2RlKFwi77+laG9tZV9ydWxlX3VybO+/pVwiICsgaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PT0gXCLlr7zlhaXmlofku7ZcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZSA9IGdldFBhdGgoJ2hpa2VyOi8vZmlsZXMvSm0vZmlsZS8nICsgai5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBmZXRjaChoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVGaWxlKGZpbGUsIGh0bWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5a+85YWlJyArIGoubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09IFwi5LiL6L29XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZG93bmxvYWQ6Ly9cIiArIGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChcIuehruiupOS7juS7k+W6k+WIoOmZpOivpeWIhuS6qzpcIiArIGoubmFtZSkuY29uZmlybSgoaikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoXCLmraPlnKjliKDpmaRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXMgPSBKU09OLnBhcnNlKGZldGNoKFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy96ZjI2MjkvemYvY29udGVudHMvXCIgKyBqLm5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL3ZuZC5naXRodWIudjNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IFwiZ2hwX0lrNVpxa2lKazc2T3JTY1IwZnI2ejIzVXFLZEdadzQxNnlGbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYTogai5zaGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIuWIoOmZpOinhOWImVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aFN0YXR1c0NvZGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamF2YS5sYW5nLlRocmVhZC5zbGVlcCgxNjUwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+WIoOmZpOaIkOWKnyzmnI3liqHlmajliKDpmaTkvJrmnInkuIDlrprlu7bov59cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBKU09OLnBhcnNlKHJlcy5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+WIoOmZpOWksei0pTpcIiArIGUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgaiksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaGVyaXRUaXRsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpO1xuICAgICAgICAgICAgfSwgcmVzdWx0cylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/msqHmnInmib7liLAnXG4gICAgICAgIH1cbiAgICB9LCBpdClcbn0pO1xuXG5pdC5tYXAoaiA9PiB7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6ICfigJjigJjigJnigJk8c21hbGw+JyArIGoubmFtZSArICc8L3NtYWxsPicsXG4gICAgICAgIGNvbF90eXBlOiBcInRleHRfMlwiLFxuICAgICAgICB1cmw6ICQoW1wi5Yig6ZmkXCIsIFwi5aSN5Yi25YiG5Lqr6ZO+5o6lXCIsIFwi5a+85YWl6KeE5YiZXCIsIFwi5a+85YWl5paH5Lu2XCIsIFwi5LiL6L29XCJdKS5zZWxlY3QoKGopID0+IHtcbiAgICAgICAgICAgIC8qdmFyIGggPSAoJ2h0dHBzOi8vcmF3LmdpdG1pcnJvci5jb20nICsgai51cmwuc3Vic3RyaW5nKCczMycpKTsqL1xuICAgICAgICAgICAgdmFyIGggPSAnaHR0cHM6Ly9naC1wcm94eS5jb20vJyArIGoudXJsO1xuICAgICAgICAgICAgaWYgKGlucHV0ID09PSBcIuWkjeWItuWIhuS6q+mTvuaOpVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiY29weTovL1wiICsgaDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09IFwi5a+85YWl6KeE5YiZXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJydWxlOi8vXCIgKyBiYXNlNjRFbmNvZGUoXCLvv6Vob21lX3J1bGVfdXJs77+lXCIgKyBoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09IFwi5a+85YWl5paH5Lu2XCIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmlsZSA9IGdldFBhdGgoJ2hpa2VyOi8vZmlsZXMvemYvZmlsZS8nICsgai5uYW1lKTtcbiAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IGZldGNoKGgpO1xuICAgICAgICAgICAgICAgIHdyaXRlRmlsZShmaWxlLCBodG1sKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5a+85YWlJyArIGoubmFtZVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PT0gXCLkuIvovb1cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImRvd25sb2FkOi8vXCIgKyBoXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKFwi56Gu6K6k5LuO5LuT5bqT5Yig6Zmk6K+l5YiG5LqrOlwiICsgai5uYW1lKS5jb25maXJtKChqKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKFwi5q2j5Zyo5Yig6ZmkXCIpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlcyA9IEpTT04ucGFyc2UoZmV0Y2goXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL3pmMjYyOS96Zi9jb250ZW50cy9cIiArIGoubmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL3ZuZC5naXRodWIudjNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogXCJ0b2tlbmdocF9HdEpkdTI4aGVIaEFaY05sbGZ3MXpDa3ZNS2hzMmUzbWpUQnVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGE6IGouc2hhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIuWIoOmZpOinhOWImVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aFN0YXR1c0NvZGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzQ29kZSA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamF2YS5sYW5nLlRocmVhZC5zbGVlcCgxNjUwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+WIoOmZpOaIkOWKnyzmnI3liqHlmajliKDpmaTkvJrmnInkuIDlrprlu7bov59cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShyZXMuYm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v5Yig6Zmk5aSx6LSlOlwiICsgZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGopLFxuICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlXG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuc2V0UmVzdWx0KGQpOyIsInNlYXJjaF91cmwiOiIiLCJncm91cCI6IiPvuI/ig6Plt6XlhbciLCJzZWFyY2hGaW5kIjoiIiwiZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsImRldGFpbF9maW5kX3J1bGUiOiIiLCJzZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsInNkZXRhaWxfZmluZF9ydWxlIjoiIiwidWEiOiJtb2JpbGUiLCJwcmVSdWxlIjoiIiwicGFnZXMiOiJbXSIsImljb24iOiJodHRwczovL2dpdGh1Yi5naXRodWJhc3NldHMuY29tL2Zhdmljb25zL2Zhdmljb24uc3ZnIiwicHJveHkiOiIifQ==



eyJsYXN0X2NoYXB0ZXJfcnVsZSI6IiIsInRpdGxlIjoi5LuT5bqTIiwiYXV0aG9yIjoiQExveURnSWsiLCJ1cmwiOiJoaWtlcjovL2VtcHR5IyMiLCJ2ZXJzaW9uIjoyLCJjb2xfdHlwZSI6InRleHRfMiIsImNsYXNzX25hbWUiOiIiLCJ0eXBlIjoib3RoZXIiLCJjbGFzc191cmwiOiIiLCJhcmVhX25hbWUiOiIiLCJhcmVhX3VybCI6IiIsInNvcnRfbmFtZSI6IiIsInllYXJfbmFtZSI6IiIsInNvcnRfdXJsIjoiIiwieWVhcl91cmwiOiIiLCJmaW5kX3J1bGUiOiJqczpcbmxldCBkID0gW107XG5sZXQgbGlzdCA9IEpTT04ucGFyc2UoZmV0Y2goXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL3pmMjYyOS96Zi9jb250ZW50c1wiKSk7XG5cbi8v5oOz6KaB5pi+56S655qE5paH5Lu257G75Z6LXG5sZXQgdHlwZSA9IFtcIi5oaWtlclwiLCBcIi5qc29uXCIsIFwiLmpzXCIsIFwiLmhremlwXCIsIFwiLmh0bWxcIl07XG5cbmxpc3QgPSBsaXN0LmZpbHRlcihpdGVtID0+IHtcbiAgICByZXR1cm4gaXRlbS50eXBlID09PSBcImZpbGVcIiAmJiB0eXBlLnNvbWUoZXh0ID0+IGl0ZW0ubmFtZS5lbmRzV2l0aChleHQpKTtcbn0pO1xuXG5sZXQgaXQgPSBsaXN0Lm1hcChqID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBqLm5hbWUsXG4gICAgICAgIHVybDogai5kb3dubG9hZF91cmwsXG4gICAgICAgIHNoYTogai5zaGFcbiAgICB9O1xufSk7XG5cbmQucHVzaCh7XG4gICAgdGl0bGU6ICfwn5SNJyxcbiAgICBjb2xfdHlwZTogJ2lucHV0JyxcbiAgICBkZXNjOiAn6K+36L6T5YWl5YWz6ZSu6K+NJyxcbiAgICB1cmw6ICQudG9TdHJpbmcoKGl0KSA9PiB7XG4gICAgICAgIGZ1bmN0aW9uIHNlYXJjaChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gaXQuZmlsdGVyKGl0ZW0gPT4gaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobmFtZS50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdHMgPSBzZWFyY2goaW5wdXQpO1xuICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eScpLnJ1bGUoKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZCA9IFtdO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMuZm9yRWFjaChqID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoW1wi5Yig6ZmkXCIsIFwi5aSN5Yi25YiG5Lqr6ZO+5o6lXCIsIFwi5a+85YWl6KeE5YiZXCIsIFwi5a+85YWl5paH5Lu2XCIsIFwi5LiL6L29XCJdKS5zZWxlY3QoKGopID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKnZhciBoID0gKCdodHRwczovL3Jhdy5naXRtaXJyb3IuY29tJyArIGoudXJsLnN1YnN0cmluZygnMzMnKSk7Ki9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaCA9ICdodHRwczovL2dpdGh1Yi5jYXR2b2QuY29tLycgKyBqLnVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT09IFwi5aSN5Yi25YiG5Lqr6ZO+5o6lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29weTovL+a1t+mYlOinhueVjOinhOWImeOAkFwiICsgai5uYW1lICsgXCLjgJHvv6Vob21lX3J1bGVfdXJs77+lXCIgKyBoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09IFwi5a+85YWl6KeE5YiZXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicnVsZTovL1wiICsgYmFzZTY0RW5jb2RlKFwi77+laG9tZV9ydWxlX3VybO+/pVwiICsgaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PT0gXCLlr7zlhaXmlofku7ZcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZSA9IGdldFBhdGgoJ2hpa2VyOi8vZmlsZXMvemYvZmlsZS8nICsgai5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBmZXRjaChoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVGaWxlKGZpbGUsIGh0bWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5a+85YWlJyArIGoubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09IFwi5LiL6L29XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZG93bmxvYWQ6Ly9cIiArIGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChcIuehruiupOS7juS7k+W6k+WIoOmZpOivpeWIhuS6qzpcIiArIGoubmFtZSkuY29uZmlybSgoaikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoXCLmraPlnKjliKDpmaRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXMgPSBKU09OLnBhcnNlKGZldGNoKFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy96ZjI2MjkvemYvY29udGVudHMvXCIgKyBqLm5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL3ZuZC5naXRodWIudjNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IFwidG9rZW5naHBfR3RKZHUyOGhlSGhBWmNObGxmdzF6Q2t2TUtoczJlM21qVEJ1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhOiBqLnNoYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwi5Yig6Zmk6KeE5YiZXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoU3RhdHVzQ29kZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqYXZhLmxhbmcuVGhyZWFkLnNsZWVwKDE2NTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v5Yig6Zmk5oiQ5YqfLOacjeWKoeWZqOWIoOmZpOS8muacieS4gOWumuW7tui/n1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IEpTT04ucGFyc2UocmVzLmJvZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v5Yig6Zmk5aSx6LSlOlwiICsgZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdFRpdGxlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7XG4gICAgICAgICAgICB9LCByZXN1bHRzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+ayoeacieaJvuWIsCdcbiAgICAgICAgfVxuICAgIH0sIGl0KVxufSk7XG5cbml0Lm1hcChqID0+IHtcbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogJ+KAmOKAmOKAmeKAmTxzbWFsbD4nICsgai5uYW1lICsgJzwvc21hbGw+JyxcbiAgICAgICAgY29sX3R5cGU6IFwidGV4dF8yXCIsXG4gICAgICAgIHVybDogJChbXCLliKDpmaRcIiwgXCLlpI3liLbliIbkuqvpk77mjqVcIiwgXCLlr7zlhaXop4TliJlcIiwgXCLlr7zlhaXmlofku7ZcIiwgXCLkuIvovb1cIl0pLnNlbGVjdCgoaikgPT4ge1xuICAgICAgICAgICAgLyp2YXIgaCA9ICgnaHR0cHM6Ly9yYXcuZ2l0bWlycm9yLmNvbScgKyBqLnVybC5zdWJzdHJpbmcoJzMzJykpOyovXG4gICAgICAgICAgICB2YXIgaCA9ICdodHRwczovL2dpdGh1Yi5jYXR2b2QuY29tLycgKyBqLnVybDtcbiAgICAgICAgICAgIGlmIChpbnB1dCA9PT0gXCLlpI3liLbliIbkuqvpk77mjqVcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImNvcHk6Ly/mtbfpmJTop4bnlYzop4TliJnjgJBcIiArIGoubmFtZSArIFwi44CR77+laG9tZV9ydWxlX3VybO+/pVwiICsgaDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09IFwi5a+85YWl6KeE5YiZXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJydWxlOi8vXCIgKyBiYXNlNjRFbmNvZGUoXCLvv6Vob21lX3J1bGVfdXJs77+lXCIgKyBoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09IFwi5a+85YWl5paH5Lu2XCIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmlsZSA9IGdldFBhdGgoJ2hpa2VyOi8vZmlsZXMvemYvZmlsZS8nICsgai5uYW1lKTtcbiAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IGZldGNoKGgpO1xuICAgICAgICAgICAgICAgIHdyaXRlRmlsZShmaWxlLCBodG1sKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5a+85YWlJyArIGoubmFtZVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PT0gXCLkuIvovb1cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImRvd25sb2FkOi8vXCIgKyBoXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKFwi56Gu6K6k5LuO5LuT5bqT5Yig6Zmk6K+l5YiG5LqrOlwiICsgai5uYW1lKS5jb25maXJtKChqKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKFwi5q2j5Zyo5Yig6ZmkXCIpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlcyA9IEpTT04ucGFyc2UoZmV0Y2goXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL3pmMjYyOS96Zi9jb250ZW50cy9cIiArIGoubmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL3ZuZC5naXRodWIudjNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogXCJ0b2tlbmdocF9HdEpkdTI4aGVIaEFaY05sbGZ3MXpDa3ZNS2hzMmUzbWpUQnVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGE6IGouc2hhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIuWIoOmZpOinhOWImVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aFN0YXR1c0NvZGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzQ29kZSA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamF2YS5sYW5nLlRocmVhZC5zbGVlcCgxNjUwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+WIoOmZpOaIkOWKnyzmnI3liqHlmajliKDpmaTkvJrmnInkuIDlrprlu7bov59cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShyZXMuYm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v5Yig6Zmk5aSx6LSlOlwiICsgZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGopLFxuICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlXG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuc2V0UmVzdWx0KGQpOyIsInNlYXJjaF91cmwiOiIiLCJncm91cCI6IuKRp+W3peWFtyIsInNlYXJjaEZpbmQiOiIiLCJkZXRhaWxfY29sX3R5cGUiOiJtb3ZpZV8xIiwiZGV0YWlsX2ZpbmRfcnVsZSI6IiIsInNkZXRhaWxfY29sX3R5cGUiOiJtb3ZpZV8xIiwic2RldGFpbF9maW5kX3J1bGUiOiIiLCJ1YSI6Im1vYmlsZSIsInByZVJ1bGUiOiIiLCJwYWdlcyI6IltdIiwiaWNvbiI6Imh0dHBzOi8vZ2l0aHViLmdpdGh1YmFzc2V0cy5jb20vZmF2aWNvbnMvZmF2aWNvbi5zdmciLCJwcm94eSI6IiJ9
