海阔视界规则分享，当前分享的是：小程序￥home_rule_v2￥base64://@爱听音乐@eyJsYXN0X2NoYXB0ZXJfcnVsZSI6IiIsInRpdGxlIjoi54ix5ZCs6Z+z5LmQIiwiYXV0aG9yIjoi5a2j6aOOIiwidXJsIjoiaGlrZXI6Ly9lbXB0eSMjaHR0cDovL3d3dy4ydDU4LmNvbSNmeXBhZ2UiLCJ2ZXJzaW9uIjo2LCJjb2xfdHlwZSI6Im1vdmllXzMiLCJjbGFzc19uYW1lIjoiIiwidHlwZSI6Im11c2ljIiwiY2xhc3NfdXJsIjoiIiwiYXJlYV9uYW1lIjoiIiwiYXJlYV91cmwiOiIiLCJzb3J0X25hbWUiOiIiLCJ5ZWFyX25hbWUiOiIiLCJzb3J0X3VybCI6IiIsInllYXJfdXJsIjoiIiwiZmluZF9ydWxlIjoianM6XG4kLnJlcXVpcmUoXCJob21lXCIpLkhvbWUoKTsiLCJzZWFyY2hfdXJsIjoiaHR0cDovL3d3dy4ydDU4LmNvbS9zby8qKi9meXBhZ2UuaHRtbCIsImdyb3VwIjoiI++4j+KDo+KRo+mfs+S5kCIsInNlYXJjaEZpbmQiOiJqczpcbnZhciBkID0gW11cbnZhciBodG1sID0gZmV0Y2goTVlfVVJMKVxubGV0IHBsYXlfbGlzdCA9IHBkZmEoaHRtbCwgXCIucGxheV9saXN0JiZsaVwiKTtcbnBsYXlfbGlzdC5mb3JFYWNoKChzKSA9PiB7XG4gICAgbGV0IHRpdGxlID0gcGRmaChzLCBcIi5uYW1lJiZhJiZUZXh0XCIpLnRyaW0oKTtcbiAgICBsZXQgc29uZ1VybCA9IFwiaHR0cDovL3d3dy4ydDU4LmNvbVwiICsgcGRmaChzLCBcIi5uYW1lJiZhJiZocmVmXCIpO1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgZGVzYzogXCLmrYzmm7JcIixcbiAgICAgICAgdXJsOiBzb25nVXJsICsgJ0BydWxlPWpzOiQucmVxdWlyZShcIm11c2ljXCIpJ1xuICAgIH0pO1xuICAgIGxldCBsaXN0ID0gcGRmYShzLCBcImJvZHkmJmFcIik7XG4gICAgbGlzdC5mb3JFYWNoKCh4KSA9PiB7XG4gICAgICAgIGxldCBocmVmID0gcGRmaCh4LCBcImEmJmhyZWZcIik7XG4gICAgICAgIGlmIChocmVmLmluY2x1ZGVzKFwiL3ZpZGVvL1wiKSkge1xuICAgICAgICAgICAgbGV0IG12VXJsID0gXCJodHRwOi8vd3d3LjJ0NTguY29tXCIgKyBocmVmICsgJC5yZXF1aXJlKFwiaGlrZXI6Ly9wYWdlL3B1YmxpY1wiKS5NVjtcbiAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlICsgXCIgLSBNVlwiLFxuICAgICAgICAgICAgICAgIGRlc2M6IFwiTVZcIixcbiAgICAgICAgICAgICAgICB1cmw6IG12VXJsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cblxuc2V0UmVzdWx0KGQpIiwiZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsImRldGFpbF9maW5kX3J1bGUiOiIiLCJzZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsInNkZXRhaWxfZmluZF9ydWxlIjoiIiwidWEiOiJtb2JpbGUiLCJwcmVSdWxlIjoiaWYgKHJlcXVlc3QoJ2hpa2VyOi8vaG9tZUDOsScpID09ICdudWxsJykge1xuICAgIGNvbmZpcm0oe1xuICAgICAgICB0aXRsZTogJ+S+nei1luajgOa1iycsXG4gICAgICAgIGNvbnRlbnQ6ICfmo4DmtYvliLDnvLrlsJHlsI/nqIvluo8s6K+35a+85YWlIScsXG4gICAgICAgIGNvbmZpcm06ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBcIua1t+mYlOinhueVjOmmlumhtemikemBk+inhOWImeOAkM6x44CR77+laG9tZV9ydWxlX3VybO+/pWh0dHBzOi8vemYyNjI5Lm5lb2NpdGllcy5vcmcvaGlrZXIvZ3ovzrEuaGlrZXJcIlxuICAgICAgICB9XG4gICAgfSlcbn0iLCJwYWdlcyI6Ilt7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi6aaW6aG1XCIsXCJwYXRoXCI6XCJob21lXCIsXCJydWxlXCI6XCIkLmV4cG9ydHMuSG9tZSA9IGZ1bmN0aW9uKCkge1xcbiAgICBsZXQgZCA9IFtdO1xcbiAgICBsZXQgcGFnZSA9IE1ZX1BBR0UgXFxuICAgIGxldCBob3N0ID0gXFxcImh0dHA6Ly93d3cuMnQ1OC5jb21cXFwiO1xcbiAgICBsZXQgdHViaWFvID0gXFxcImh0dHA6Ly8xMjMuNTYuMTA1LjE0NS90dWJpYW8vcmVkL1xcXCI7XFxuICAgIGxldCBjbGEgPSBwZGZhKGZldGNoKGhvc3QpLFxcXCJib2R5JiYuZmVkLXRleHQtY2VudGVyXFxcIikuY29uY2F0KCc8YSBocmVmPVxcXCIvbG92ZVxcXCI+5pS26JePPC9hPicpO1xcbiAgICBsZXQgdHUgPSBbXFxcIjExOVxcXCIsIFxcXCI0OFxcXCIsIFxcXCIzNVxcXCIsXFxcIjQzXFxcIixcXFwiNTNcXFwiLFxcXCI1MlxcXCJdO1xcbiAgICBpZihwYWdlPT0xKXtcXG4gICAgY2xhLmZvckVhY2goKHgsaSk9PiB7XFxuICAgICAgICBsZXQgbGkgPSBwZGZoKHgsXFxcImEmJlRleHRcXFwiKTtcXG4gICAgICAgIGxldCB1cmwgPSBwZCh4LFxcXCJhJiZocmVmXFxcIixob3N0KVxcbiAgICAgICAgZC5wdXNoKHtcXG4gICAgICAgICAgICB0aXRsZTogZ2V0VmFyKFxcXCJmZW5sXFxcIiwgXFxcIummlumhtVxcXCIpID09IGxpID8gbGkuZm9udGNvbG9yKCdyZWQnKTogbGksXFxuICAgICAgICAgICAgcGljOiB0dWJpYW8gKyB0dVtpXSArIFxcXCIucG5nXFxcIixcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcImljb25fc21hbGxfM1xcXCIsXFxuICAgICAgICAgICAgdXJsOiAkKFxcXCIjbm9Mb2FkaW5nI1xcXCIpLmxhenlSdWxlKChsaSx1cmwpID0+IHtcXG4gICAgICAgICAgICAgICAgbGV0IGtleXMgPSBsaXN0TXlWYXJLZXlzKCk7XFxuICAgIGZvciAobGV0IGl0IG9mIGtleXMpIHtcXG4gICAgICAgIGNsZWFyTXlWYXIoaXQpO1xcbiAgICB9O1xcbiAgICAgICAgICAgICAgICBwdXRWYXIoXFxcImZlbmxcXFwiLCBsaSk7XFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKFxcXCJ1cmxcXFwiLHVybCk7XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XFxuICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSc7XFxuICAgICAgICAgICAgfSxsaSx1cmwpXFxuICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICB9KVxcbiBkLnB1c2goe1xcbiAgICAgICAgdGl0bGU6ICfmkJzntKInLFxcbiAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsXFxuICAgICAgICB1cmw6IFxcXCInaGlrZXI6Ly9zZWFyY2g/cz0nK2lucHV0KycmcnVsZT3niLHlkKzpn7PkuZAnXFxcIixcXG4gICAgICAgIH0pXFxuICAgICAgICAgICAgfVxcbiAgICBmdW5jdGlvbiBzeSh1cmwsIGQpIHtcXG4gICAgbGV0IGh0bWwgPSBmZXRjaCh1cmwpXFxuICAgIGxldCBMYWIgPSBwZGZhKGh0bWwsICdib2R5JiYubGF5dWktcm93Omx0KDQpJyk7XFxuICAgIExhYi5mb3JFYWNoKCh4KSA9PiB7XFxuICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiBcXFwi4paQIFxcXCIuZm9udGNvbG9yKCcjMjBhMTYyJykgKyBwZGZoKHgsIFxcXCJoMSYmVGV4dFxcXCIpLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFwicmljaF90ZXh0XFxcIlxcbiAgICAgICAgfSlcXG4gICAgICAgIGxldCBpdGVtID0gcGRmYSh4LCAnYm9keSYmbGknKTtcXG4gICAgICAgIC8vIOmZkOWItuavj+S4qumDqOWIhuacgOWkmjnkuKpcXG4gICAgICAgIGxldCBsaW1pdGVkSXRlbSA9IGl0ZW0uc2xpY2UoMCwgOSk7XFxuICAgICAgICBcXG4gICAgICAgIGxpbWl0ZWRJdGVtLmZvckVhY2goKHMpID0+IHtcXG4gICAgICAgICAgICBsZXQgaW1nID0gcGRmaChzLCBcXFwiaW1nJiZzcmNcXFwiKS5zcGxpdCgnPycpWzBdXFxuICAgICAgICAgICAgbGV0IHRpdGxlID0gcGRmaChzLCBcXFwiLm5hbWUmJlRleHRcXFwiKVxcbiAgICAgICAgICAgIGxldCB1cmwgPSBcXFwiaHR0cDovL3d3dy4ydDU4LmNvbVxcXCIgKyBwZGZoKHMsIFxcXCJhJiZocmVmXFxcIilcXG4gICAgICAgICAgICBsZXQgc3VybFxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIOajgOafpeaYr+WQpuaciW12XFxuICAgICAgICAgICAgbGV0IG12RWxlbWVudCA9IHBkZmgocywgXFxcIi5tdiYmVGV4dFxcXCIpXFxuICAgICAgICAgICAgbGV0IGRlc2MgPSBcXFwiXFxcIlxcbiAgICAgICAgICAgIGxldCBtdlVybCA9IFxcXCJcXFwiXFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgaWYgKG12RWxlbWVudCkge1xcbiAgICAgICAgICAgICAgICBkZXNjID0gXFxcIm12XFxcIlxcbiAgICAgICAgICAgICAgICBtdlVybCA9IFxcXCJodHRwOi8vd3d3LjJ0NTguY29tXFxcIiArIHBkZmgocywgXFxcIi5tdiYmYSYmaHJlZlxcXCIpXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIGlmICgvc29uZy8udGVzdCh1cmwpKSB7XFxuICAgICAgICAgICAgICAgIHN1cmwgPSB1cmwgKyAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS9wdWJsaWNcXFwiKS5sYXp5XFxuICAgICAgICAgICAgfSBlbHNlIGlmICgvdmlkZW8vLnRlc3QodXJsKSkge1xcbiAgICAgICAgICAgICAgICBzdXJsID0gdXJsICsgJC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvcHVibGljXFxcIikuTVZcXG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9saXN0Ly50ZXN0KHVybCkpIHtcXG4gICAgICAgICAgICAgICAgc3VybCA9IHVybC5yZXBsYWNlKC8uaHRtbC8sIGAvZnlwYWdlLmh0bWxgKSArICdAcnVsZT1qczokLnJlcXVpcmUoXFxcInBsYXlsaXN0XFxcIiknXFxuICAgICAgICAgICAgfSBlbHNlIGlmICgvc2luZ2VyLy50ZXN0KHVybCkpIHtcXG4gICAgICAgICAgICAgICAgc3VybCA9IHVybCArICdmeXBhZ2VAcnVsZT1qczokLnJlcXVpcmUoXFxcInNpbmdlclxcXCIpJ1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXFxuICAgICAgICAgICAgICAgIHVybDogc3VybCxcXG4gICAgICAgICAgICAgICAgcGljX3VybDogaW1nID8gaW1nIDogXFxcImh0dHA6Ly8xMjMuNTYuMTA1LjE0NS90dWJpYW8vbXVzaWMvMjguc3ZnXFxcIixcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6IGltZyA/IFxcXCJjYXJkX3BpY18zXFxcIiA6IFxcXCJhdmF0YXJcXFwiLFxcbiAgICAgICAgICAgICAgICBkZXNjOiBkZXNjLCAvLyDmt7vliqBkZXNj5a2X5q61XFxuICAgICAgICAgICAgICAgIGV4dHJhOiB7XFxuICAgIGluaGVyaXRUaXRsZTogZmFsc2UsXFxuICAgIGxvbmdDbGljazogKC9zb25nLy50ZXN0KHVybCkgPyBbe1xcbiAgICAgICAgdGl0bGU6IFxcXCLmrYzmm7Lor6bmg4VcXFwiLFxcbiAgICAgICAganM6ICQudG9TdHJpbmcoKHVybCkgPT4ge1xcbiAgICAgICAgICAgIHJldHVybiB1cmwgKyAnQHJ1bGU9anM6JC5yZXF1aXJlKFxcXCJtdXNpY1xcXCIpJ1xcbiAgICAgICAgfSwgdXJsKVxcbiAgICB9XSA6IFtdKS5jb25jYXQobXZVcmwgPyBbe1xcbiAgICAgICAgdGl0bGU6IFxcXCLmkq3mlL5NVlxcXCIsXFxuICAgICAgICBqczogJC50b1N0cmluZygobXZVcmwpID0+IHtcXG4gICAgICAgICAgICByZXR1cm4gbXZVcmwgKyAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS9wdWJsaWNcXFwiKS5NVlxcbiAgICAgICAgfSwgbXZVcmwpXFxuICAgIH1dIDogW10pXFxufVxcbiAgICAgICAgICAgIH0pXFxuICAgICAgICB9KVxcbiAgICB9KVxcbn1cXG4gICAgXFxuZnVuY3Rpb24gbG92ZShkKSB7XFxuICAgIC8v5oSf6LCi8J+UpfCflKXwn5Sl5aSn5L2s55qE5Luj56CBXFxuICAgIHZhciBsYWJlbCA9IGdldFZhcihcXFwibGFiZWxcXFwiKSA/IGdldFZhcihcXFwibGFiZWxcXFwiKSA6IFxcXCLmrYzmm7JcXFwiO1xcbiAgICB2YXIgdSA9IGxhYmVsID09IFxcXCLmrYzmm7JcXFwiID8gJ2hpa2VyOi8vZmlsZXMvcnVsZXMvbW9uL+eIseWQrOmfs+S5kC9tdXNpYy50eHQnIDogJ2hpa2VyOi8vZmlsZXMvcnVsZXMvbW9uL+eIseWQrOmfs+S5kC9hbGJ1bS50eHQnO1xcbiAgICB2YXIgbGVuZ3RoID0gSlNPTi5wYXJzZShmZXRjaFBDKHUpIHx8ICdbXScpLmxlbmd0aFxcbmlmIChNWV9QQUdFID09IDEpIHtcXG4gICAgZC5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiBsYWJlbCA9PSBcXFwi5q2M5puyXFxcIiA/ICfigJzigJzigJ3igJ0nKyhcXFwi5q2M5puyIFxcXCIrKFxcXCIo5YWxXFxcIitsZW5ndGgrXFxcIummlilcXFwiKS5zbWFsbCgpKS5mb250Y29sb3IoJ3JlZCcpOlxcXCLmrYzmm7JcXFwiLFxcbiAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9lbXB0eSNub0xvYWRpbmcjQGxhenlSdWxlPS5qczpwdXRWYXIoJ2xhYmVsJywn5q2M5puyJyk7cmVmcmVzaFBhZ2UoZmFsc2UpOyd0b2FzdDovL+WIh+aNouaIkOWKnydcXFwiLFxcbiAgICAgICAgcGljX3VybDogXFxcImh0dHBzOi8vaGlrZXJmYW5zLmNvbS90dWJpYW8vdW5mcmFtZWQvNC5wbmdcXFwiLFxcbiAgICAgICAgY29sX3R5cGU6ICdmbGV4X2J1dHRvbidcXG4gICAgfSx7XFxuICAgICAgICB0aXRsZTogbGFiZWwgPT0gXFxcIuatjOWNlVxcXCIgPyAn4oCc4oCc4oCd4oCdJysoXFxcIuatjOWNlSBcXFwiKyhcXFwiKOWFsVxcXCIrbGVuZ3RoK1xcXCLkuKopXFxcIikuc21hbGwoKSkuZm9udGNvbG9yKCdyZWQnKSA6IFxcXCLmrYzljZVcXFwiLFxcbiAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9lbXB0eSNub0xvYWRpbmcjQGxhenlSdWxlPS5qczpwdXRWYXIoJ2xhYmVsJywn5q2M5Y2VJyk7cmVmcmVzaFBhZ2UoZmFsc2UpOyd0b2FzdDovL+WIh+aNouaIkOWKnydcXFwiLFxcbiAgICAgICAgcGljX3VybDogXFxcImh0dHBzOi8vaGlrZXJmYW5zLmNvbS90dWJpYW8vdW5mcmFtZWQvMTg1LnBuZ1xcXCIsXFxuICAgICAgICBjb2xfdHlwZTogJ2ZsZXhfYnV0dG9uJ1xcbiAgICB9KVxcbiAgICBkLnB1c2goe1xcbiAgICAgICAgdGl0bGU6XFxcIuWIoOmZpFxcXCIsXFxuICAgICAgICBwaWNfdXJsOiBcXFwiaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby91bmZyYW1lZC8xODkucG5nXFxcIixcXG4gICAgICAgIGNvbF90eXBlOiBcXFwiZmxleF9idXR0b25cXFwiLFxcbiAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCh1KSA9PiB7XFxuICAgIGNvbnN0IGhpa2VyUG9wID0gJC5yZXF1aXJlKFxcXCJodHRwOi8vaGlrZXIubm9raWEucHJlc3MvaGlrZXJ1bGUvcnVsZWxpc3QuanNvbj9pZD02OTY2XFxcIik7XFxuICAgIGxldCBsaXN0ID0gSlNPTi5wYXJzZShmZXRjaFBDKHUpIHx8ICdbXScpO1xcbiAgICBsZXQgbmFtZWxpc3QgPSBsaXN0Lm1hcChpdGVtID0+IGl0ZW0uc3BsaXQoJ0BAJylbMF0pO1xcblxcbiAgICBoaWtlclBvcC5tdWx0aUNob2ljZSh7XFxuICAgICAgICB0aXRsZTogXFxcIuaJuemHj+WIoOmZpFxcXCIsXFxuICAgICAgICBvcHRpb25zOiBuYW1lbGlzdCxcXG4gICAgICAgIHJpZ2h0VGl0bGU6IFxcXCLnoa7orqRcXFwiLFxcbiAgICAgICAgcmlnaHRDbGljayhvcHRpb25zLCBjaGVja2VkKSB7XFxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkTmFtZXMgPSBvcHRpb25zLmZpbHRlcigoXywgaSkgPT4gY2hlY2tlZFtpXSk7XFxuICAgICAgICAgICAgbGV0IG9uID0gc2VsZWN0ZWROYW1lcy5sZW5ndGg7XFxuICAgICAgICAgICAgaWYgKG9uID09PSAwKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/mnIDlsJHpgInmi6nkuIDmnaHvvIFcXFwiO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICByZXR1cm4gJChcXFwi56Gu6K6k5Yig6ZmkIFxcXCIgKyBvbiArIFxcXCIg5p2h77yfXFxcIikuY29uZmlybSgobGlzdCxzZWxlY3RlZE5hbWVzLG9uLHUpID0+IHtcXG4gICAgICAgICAgICAgICAgbGlzdCA9IGxpc3QuZmlsdGVyKGl0ZW0gPT4gIXNlbGVjdGVkTmFtZXMuaW5jbHVkZXMoaXRlbS5zcGxpdCgnQEAnKVswXSkpO1xcbiAgICAgICAgICAgICAgICB3cml0ZUZpbGUodSwgSlNPTi5zdHJpbmdpZnkobGlzdCkpO1xcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/miJDlip/liKDpmaQgXFxcIiArIG9uICsgXFxcIiDpppbvvIFcXFwiO1xcbiAgICAgICAgICAgIH0sbGlzdCxzZWxlY3RlZE5hbWVzLG9uLHUpO1xcbiAgICAgICAgfSxcXG4gICAgICAgIGxlZnRUaXRsZTogXFxcIuWFqOmDqOWIoOmZpFxcXCIsXFxuICAgICAgICBsZWZ0Q2xpY2soKSB7XFxuICAgICAgICAgICAgcmV0dXJuICQoXFxcIuehruiupOWIoOmZpOWFqOmDqO+8n1xcXCIpLmNvbmZpcm0oKGxpc3QsdSkgPT4ge1xcbiAgICAgICAgICAgICAgICBsaXN0ID0gW107XFxuICAgICAgICAgICAgICAgIHdyaXRlRmlsZSh1LCBKU09OLnN0cmluZ2lmeShsaXN0KSk7XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+WIoOmZpOaIkOWKn++8gVxcXCI7XFxuICAgICAgICAgICAgfSxsaXN0LHUpO1xcbiAgICAgICAgfSxcXG4gICAgICAgIGNlbnRlclRpdGxlOiBcXFwi5Y+W5raIXFxcIlxcbiAgICB9KTtcXG5cXG4gICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIjtcXG59LHUpXFxuXFxuICAgIH0pXFxufVxcblxcbnZhciBzdHIgPSByZWFkRmlsZSh1LCAwKTtcXG5pZiAoc3RyKSB7XFxuICAgIHZhciBsaXN0ID0gSlNPTi5wYXJzZShzdHIpO1xcbiAgICBsaXN0LmZvckVhY2goKGxpc3QpID0+IHtcXG4gICAgICAgIGxldCB1cmwgPSBsaXN0LnNwbGl0KCdAQCcpWzJdXFxuICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IGxpc3Quc3BsaXQoJ0BAJylbMF0sXFxuICAgICAgICAgICAgaW1nOiBsaXN0LnNwbGl0KCdAQCcpWzFdLFxcbiAgICAgICAgICAgIHVybDogbGFiZWwgPT0gXFxcIuatjOabslxcXCI/dXJsKyQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3B1YmxpY1xcXCIpLmxhenk6dXJsLnJlcGxhY2UoLzEvLGBmeXBhZ2VgKSsnQHJ1bGU9anM6JC5yZXF1aXJlKFxcXCJwbGF5bGlzdFxcXCIpJyxcXG4gICAgICAgICAgICBjb2xfdHlwZTogJ2NhcmRfcGljXzMnLFxcbiAgICAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlLFxcbiAgICAgICAgICAgICAgbG9uZ0NsaWNrOiBbe1xcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Y+W5raI5pS26JePJyxcXG4gICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygobGlzdCwgdSkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZmV0Y2hQQyh1KSB8fCAnW10nKTtcXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEuZmlsdGVyKHggPT4geCAhPSBsaXN0KTtcXG4gICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUodSwgSlNPTi5zdHJpbmdpZnkoZGF0YSksMCk7XFxuICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XFxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCI7XFxuICAgICAgICAgICAgICAgICAgfSwgbGlzdCwgdSlcXG4gICAgICAgICAgICAgIH0se1xcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiBcXFwi5p+l55yL6K+m5oOFXFxcIixcXG4gICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygodXJsLCBsYWJlbCkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgRGV0YWlsID0gbGFiZWwgPT0gXFxcIuatjOabslxcXCI/dXJsKydAcnVsZT1qczokLnJlcXVpcmUoXFxcIm11c2ljXFxcIiknOnVybC5yZXBsYWNlKC8xLyxgZnlwYWdlYCkrJ0BydWxlPWpzOiQucmVxdWlyZShcXFwicGxheWxpc3RcXFwiKSdcXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERldGFpbFxcbiAgICAgICAgICAgICAgICAgIH0sIHVybCwgbGFiZWwpXFxuICAgICAgICAgICAgICB9XSxcXG4gICAgICAgICAgfVxcbiAgICAgICAgfSk7XFxuICAgIH0pO1xcbn1cXG4gICAgXFxufVxcbmZ1bmN0aW9uIGxlaWIodXJsLCBkLCBwYWdlLCB0YWcsIG9wdGlvbnMpIHtcXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XFxuICAgIGNvbnN0IOS4i+S4gOmhtSA9IFxcXCJwZChodG1sLCAnYTptYXRjaGVzKOS4i+S4gOmhtSkmJmhyZWYnKVxcXCI7XFxuICAgIGV2YWwoSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL3BhZ2UveWk/cnVsZT3OsScpKS5ydWxlKVxcbiAgICBcXG4gICAgdmFyIOWumuS9jeS/oeaBryA9IFt7XFxuICAgICAgICDlpKfnsbvlrprkvY06ICdib2R5JiYuaWxpbmdrdV9mbDplcSgwKScsXFxuICAgICAgICDlsI/nsbs6ICdib2R5JiZhJyxcXG4gICAgfSwge1xcbiAgICAgICAg5LiA57qn5a6a5L2NOiAnYm9keSYmLmlsaW5na3VfZmw6Z3QoMCknLFxcbiAgICAgICAg5bCP57G7OiAnYm9keSYmYScsXFxuICAgIH1dO1xcbiAgICBcXG4gICAgbGV0IHRydWVfdXJsID0gZ2V0VHJ1ZWxpbmsoTVlfUlVMRS51cmwsIHVybCwgcGFnZSk7XFxuICAgIGxldCBodG1sID0gZmV0Y2godHJ1ZV91cmwpO1xcbiAgICBcXG4gICAgY29uc3QgZGMgPSBkeW5hbWljQ2xhc3Moe1xcbiAgICAgICAg5YiG57G76aKc6ImyOiBnZXRSYW5nZUNvbG9ycygpXFxuICAgIH0pO1xcbiAgICBkYy7lvIDlkK/mipjlj6AoKVxcbiAgICBkYy7lvIDlkK/mkJzntKIoZmFsc2UpLuWIm+W7uuWKqOaAgeWIhuexuyjlrprkvY3kv6Hmga8pXFxuICAgIFxcbiAgICB2YXIgbGlzdCA9IHBkZmEoaHRtbCwgdGFnKTtcXG4gICAgY29uc3QgZGVmYXVsdENvbFR5cGUgPSBvcHRpb25zLmNvbFR5cGUgfHwgXFxcImNhcmRfcGljXzNcXFwiO1xcbiAgICBcXG4gICAgbGlzdC5mb3JFYWNoKChzKSA9PiB7XFxuICAgIGxldCBpbWcgPSBwZGZoKHMsIFxcXCJpbWcmJnNyY1xcXCIpLnNwbGl0KCc/JylbMF1cXG4gICAgbGV0IHRpdGxlID0gcGRmaChzLCBcXFwiLm5hbWUmJlRleHRcXFwiKVxcbiAgICBsZXQgdXJsID0gXFxcImh0dHA6Ly93d3cuMnQ1OC5jb21cXFwiICsgcGRmaChzLCBcXFwiYSYmaHJlZlxcXCIpXFxuICAgIGxldCBzdXJsXFxuICAgIFxcbiAgICAvLyDmo4Dmn6XmmK/lkKbmnIltdlxcbiAgICBsZXQgbXZFbGVtZW50ID0gcGRmaChzLCBcXFwiLm12JiZUZXh0XFxcIilcXG4gICAgbGV0IGRlc2MgPSBcXFwiXFxcIlxcbiAgICBsZXQgbXZVcmwgPSBcXFwiXFxcIlxcbiAgICBcXG4gICAgaWYgKG12RWxlbWVudCkge1xcbiAgICAgICAgZGVzYyA9IFxcXCJtdlxcXCJcXG4gICAgICAgIG12VXJsID0gXFxcImh0dHA6Ly93d3cuMnQ1OC5jb21cXFwiICsgcGRmaChzLCBcXFwiLm12JiZhJiZocmVmXFxcIilcXG4gICAgfVxcbiAgICBcXG4gICAgaWYgKC9zb25nLy50ZXN0KHVybCkpIHtcXG4gICAgICAgIHN1cmwgPSB1cmwgKyAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS9wdWJsaWNcXFwiKS5sYXp5XFxuICAgIH0gZWxzZSBpZiAoL3ZpZGVvLy50ZXN0KHVybCkpIHtcXG4gICAgICAgIHN1cmwgPSB1cmwgKyAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS9wdWJsaWNcXFwiKS5NVlxcbiAgICB9IGVsc2UgaWYgKC9saXN0Ly50ZXN0KHVybCkpIHtcXG4gICAgICAgIHN1cmwgPSB1cmwucmVwbGFjZSgvLmh0bWwvLCBgL2Z5cGFnZS5odG1sYCkgKyAnQHJ1bGU9anM6JC5yZXF1aXJlKFxcXCJwbGF5bGlzdFxcXCIpJ1xcbiAgICB9IGVsc2UgaWYgKC9zaW5nZXIvLnRlc3QodXJsKSkge1xcbiAgICAgICAgc3VybCA9IHVybCArICdmeXBhZ2VAcnVsZT1qczokLnJlcXVpcmUoXFxcInNpbmdlclxcXCIpJ1xcbiAgICB9XFxuICAgIFxcbiAgICBkLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxcbiAgICAgICAgdXJsOiBzdXJsLFxcbiAgICAgICAgcGljX3VybDogaW1nP2ltZzpcXFwiaHR0cDovLzEyMy41Ni4xMDUuMTQ1L3R1Ymlhby9tdXNpYy8yOC5zdmdcXFwiLFxcbiAgICAgICAgY29sX3R5cGU6IGRlZmF1bHRDb2xUeXBlLFxcbiAgICAgICAgZGVzYzogZGVzYywgLy8g5re75YqgZGVzY+Wtl+autVxcbiAgICAgICAgZXh0cmE6IHtcXG4gICAgaW5oZXJpdFRpdGxlOiBmYWxzZSxcXG4gICAgbG9uZ0NsaWNrOiAoL3NvbmcvLnRlc3QodXJsKSA/IFt7XFxuICAgICAgICB0aXRsZTogXFxcIuatjOabsuivpuaDhVxcXCIsXFxuICAgICAgICBqczogJC50b1N0cmluZygodXJsKSA9PiB7XFxuICAgICAgICAgICAgcmV0dXJuIHVybCArICdAcnVsZT1qczokLnJlcXVpcmUoXFxcIm11c2ljXFxcIiknXFxuICAgICAgICB9LCB1cmwpXFxuICAgIH1dIDogW10pLmNvbmNhdChtdlVybCA/IFt7XFxuICAgICAgICB0aXRsZTogXFxcIuaSreaUvk1WXFxcIixcXG4gICAgICAgIGpzOiAkLnRvU3RyaW5nKChtdlVybCkgPT4ge1xcbiAgICAgICAgICAgIHJldHVybiBtdlVybCArICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3B1YmxpY1xcXCIpLk1WXFxuICAgICAgICB9LCBtdlVybClcXG4gICAgfV0gOiBbXSlcXG59XFxuICAgIH0pXFxufSlcXG4gICAgYXV0b1BhZ2UoKTtcXG59XFxuXFxuaWYgKGdldFZhcihcXFwiZmVubFxcXCIsIFxcXCLpppbpobVcXFwiKSA9PSBcXFwi6aaW6aG1XFxcIikge1xcbiAgICBsZXQgdXJsID0gZ2V0TXlWYXIoXFxcInVybFxcXCIsIGhvc3QpXFxuICAgIC8vbG9nKHVybClcXG4gICAgaWYgKHBhZ2UgPT0gMSkge1xcbiAgICAgICAgc3kodXJsLCBkKTtcXG4gICAgfVxcbn0gZWxzZSBpZiAoZ2V0VmFyKFxcXCJmZW5sXFxcIikgPT0gXFxcIuaUtuiXj1xcXCIpIHtcXG4gICAgbG92ZShkKVxcbn0gZWxzZSB7XFxuICAgIC8vIOS9v+eUqOmFjee9ruWvueixoeWkhOeQhuWFtuS7luaDheWGtVxcbiAgICBjb25zdCBjb25maWdzID0ge1xcbiAgICAgICAgXFxcIuaOkuihjFxcXCI6IHsgdXJsOiBnZXRNeVZhcihcXFwidXJsXFxcIiwgaG9zdCksIHRhZzogXFxcIi5wbGF5X2xpc3QmJmxpXFxcIiAsY29sVHlwZTogXFxcImF2YXRhclxcXCJ9LFxcbiAgICAgICAgXFxcIuatjOWNlVxcXCI6IHsgdXJsOiBnZXRNeVZhcihcXFwidXJsXFxcIiwgaG9zdCksIHRhZzogXFxcIi52aWRlb19saXN0JiZsaVxcXCIgfSxcXG4gICAgICAgIFxcXCLmrYzmiYtcXFwiOiB7IHVybDogZ2V0TXlWYXIoXFxcInVybFxcXCIsIGhvc3QpLCB0YWc6IFxcXCIuc2luZ2VyX2xpc3QmJmxpXFxcIiB9LFxcbiAgICAgICAgXFxcIk1WXFxcIjogeyB1cmw6IGdldE15VmFyKFxcXCJ1cmxcXFwiLCBob3N0KSwgdGFnOiBcXFwiLnZpZGVvX2xpc3QmJmxpXFxcIiwgY29sVHlwZTogXFxcIm1vdmllXzJcXFwiIH1cXG4gICAgfTtcXG4gICAgXFxuICAgIGNvbnN0IGZlbmwgPSBnZXRWYXIoXFxcImZlbmxcXFwiKTtcXG4gICAgaWYgKGNvbmZpZ3NbZmVubF0pIHtcXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGNvbmZpZ3NbZmVubF07XFxuICAgICAgICBsZWliKGNvbmZpZy51cmwsIGQsIHBhZ2UsIGNvbmZpZy50YWcsIHsgY29sVHlwZTogY29uZmlnLmNvbFR5cGUgfSk7XFxuICAgIH1cXG59XFxuICAgIHNldFJlc3VsdChkKVxcbn1cIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIumAmueUqFwiLFwicGF0aFwiOlwicHVibGljXCIsXCJydWxlXCI6XCJjb25zdCBsYXp5ID0gJCgnJykubGF6eVJ1bGUoKCkgPT4ge1xcbiAgICB2YXIgaG9zdCA9IFxcXCJodHRwOi8vd3d3LjJ0NTguY29tXFxcIlxcbiAgICB2YXIgaWQgPSBpbnB1dC5tYXRjaCgvXFxcXC8oc29uZ3xtcDMpXFxcXC8oW15cXFxcL10rKVxcXFwuaHRtbC8pWzJdXFxuICAgIHZhciBwbGF5ID0gaG9zdCsnL2pzL3BsYXkucGhwJztcXG4gICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKHBsYXkse1xcbiAgICAgICAgICAgaGVhZGVyczp7XFxuICAgICAgICBcXFwiVXNlci1BZ2VudFxcXCI6XFxcIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMDUuMC4wLjAgU2FmYXJpLzUzNy4zNlxcXCIsXFxuICAgICAgICBcXFwiUmVmZXJlclxcXCI6IGlucHV0XFxuICAgICAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgYm9keTonaWQ9JytpZCsnJnR5cGU9bXVzaWMnLFxcbiAgICBtZXRob2Q6ICdQT1NUJyxcXG59KSkudXJsXFxuICAgIHZhciBscmMgPSBob3N0KycvcGx1Zy9kb3duLnBocD9hYz1tdXNpYyZsaz1scmMmaWQ9JytpZDtcXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcXG4gICAgICAgIHVybHM6IFtqc29uXSxcXG4gICAgICAgIGx5cmljOiBscmNcXG4gICAgfSkrIFxcXCIjaXNNdXNpYz10cnVlI1xcXCI7XFxufSk7XFxuY29uc3QgTVYgPSAkKCcnKS5sYXp5UnVsZSgoKSA9PiB7XFxuICAgIHZhciBob3N0ID0gXFxcImh0dHA6Ly93d3cuMnQ1OC5jb21cXFwiXFxuICAgIHZhciBpZCA9IGlucHV0Lm1hdGNoKC9cXFxcLyh2aWRlb3xtcDQpXFxcXC8oW15cXFxcL10rKVxcXFwuaHRtbC8pWzJdXFxuICAgIC8vIOa4heaZsOW6puaOkuW6j+WumuS5ie+8iOaVsOWAvOi2iuWkp+aOkuWcqOWJjemdou+8iVxcbmNvbnN0IHF1YWxpdHlSYW5rID0geyBcXFwi6JOd5YWJXFxcIjogMTA4MCwgXFxcIui2hea4hVxcXCI6IDcyMCwgXFxcIumrmOa4hVxcXCI6IDQ4MCwgXFxcIuagh+a4hVxcXCI6IDQyMCB9O1xcblxcbmxldCB2aWRlb0RhdGEgPSBPYmplY3QuZW50cmllcyhxdWFsaXR5UmFuaykubWFwKChbbmFtZSwgdmFsdWVdKSA9PiB7XFxuICAgIGxldCBwbGF5ID0gSlNPTi5wYXJzZShmZXRjaFBDKGhvc3QgKyAnL3BsdWcvZG93bi5waHA/YWM9dnBsYXkmaWQ9JyArIGlkICsgJyZxPScgKyB2YWx1ZSwge1xcbiAgICAgICAgaGVhZGVyczogeyBcXFwiUmVmZXJlclxcXCI6IGhvc3QgfSxcXG4gICAgICAgIG9ubHlIZWFkZXJzOiB0cnVlXFxuICAgIH0pKS51cmw7XFxuICAgIFxcbiAgICByZXR1cm4geyBuYW1lLCB1cmw6IHBsYXkgfTtcXG59KTtcXG5cXG5sZXQgdXJscyA9IHZpZGVvRGF0YS5tYXAoaXRlbSA9PiBpdGVtLnVybCk7XFxubGV0IG5hbWVzID0gdmlkZW9EYXRhLm1hcChpdGVtID0+IGl0ZW0ubmFtZSk7XFxuXFxucmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgdXJscywgbmFtZXMgfSkgKyBcXFwiI2lzVmlkZW89dHJ1ZSNcXFwiO1xcblxcblxcbn0pO1xcbmNvbnN0IOWjsOaYjiA9IGZ1bmN0aW9uIChkKSB7XFxuICAgIGQucHVzaCh7XFxuICAgIHRpdGxlOiAn4oCY4oCY4oCZ4oCZPHNtYWxsPjxmb250IGNvbG9yPSMyMGIyYWE+5pWw5o2u6LWE5rqQ5pS26ZuG5LqO572R57uc77yM5rW36ZiU5LiN5o+Q5L6b5Lu75L2V6LWE5rqQ77yBPC9mb250Pjwvc21hbGw+JyxcXG4gICAgZGVzYzogJ+KAmOKAmOKAmeKAmTxzbWFsbD48Zm9udCBjb2xvcj0jZmY3ZjUwPuacrOinhOWImeS7hemZkOWtpuS5oOS4juS6pOa1ge+8jOivt+WvvOWFpeWQjjI05bCP5pe25YaF5Yig6Zmk77yM6K+35Yu/5Lyg5pKt77yBPC9mb250Pjwvc21hbGw+JyxcXG4gICAgdXJsOiAnaGlrZXI6Ly9lbXB0eScsXFxuICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMScsXFxuICAgIGV4dHJhOiB7XFxuICAgICAgICBsaW5lVmlzaWJsZTogZmFsc2VcXG4gICAgfVxcbn0pO1xcblxcbiAgfVxcbiAgZnVuY3Rpb24gZm9ybWF0U29uZ1RpdGxlKHRpdGxlLGF1dGhvcikge1xcbiAgICB2YXIgcmVnZXggPSAvKC4rKVtfLV0oLispLztcXG4gICAgdmFyIG1hdGNoID0gdGl0bGUubWF0Y2gocmVnZXgpO1xcbiAgICBcXG4gICAgaWYgKG1hdGNoKSB7XFxuICAgICAgICAvLyDliKTmlq3mrYzmiYvlkI3lrZflkozmrYzmm7LlkI3lrZfnmoTkvY3nva5cXG4gICAgICAgIHZhciBwYXJ0MSA9IG1hdGNoWzFdLnRyaW0oKTtcXG4gICAgICAgIHZhciBwYXJ0MiA9IG1hdGNoWzJdLnRyaW0oKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYgKHBhcnQxLmluY2x1ZGVzKGF1dGhvcikpIHtcXG4gICAgICAgICAgICByZXR1cm4gcGFydDIgKyBcXFwiIC0gXFxcIiArIHBhcnQxO1xcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICByZXR1cm4gcGFydDEgKyBcXFwiIC0gXFxcIiArIHBhcnQyO1xcbiAgICAgICAgfVxcbiAgICB9XFxuICAgIHJldHVybiB0aXRsZTsgLy8g5aaC5p6c5LiN5Yy56YWN77yM6L+U5Zue5Y6f5aeL5qCH6aKYXFxufVxcbiQuZXhwb3J0cyA9IHtcXG4gICAgbGF6eSxcXG4gICAgTVYsXFxuICAgIGZvcm1hdFNvbmdUaXRsZSxcXG4gICAg5aOw5piOXFxufVwifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi5q2M5Y2VXCIsXCJwYXRoXCI6XCJwbGF5bGlzdFwiLFwicnVsZVwiOlwianM6XFxudmFyIGQgPSBbXVxcbmNvbnN0IHBhZ2UgPSBNWV9QQUdFXFxubGV0IGh0bWwgPSBmZXRjaChNWV9VUkwpXFxuICAgIGxldCB0aXRsZSA9ICc8c3Ryb25nPicrcGRmaChodG1sLCdoMSYmVGV4dCcpKyc8c3Ryb25nPicrXFxcIlxcXFxu4oCc4oCc4oCd4oCdXFxcIitwZGZoKGh0bWwsXFxcIi5pbmZvJiZUZXh0XFxcIikuc21hbGwoKVxcbiAgICBzZXRQYWdlVGl0bGUocGRmaChodG1sLCdoMSYmVGV4dCcpKVxcbiAgICBsZXQgcGxheV9saXN0ID0gcGRmYShodG1sLFxcXCJib2R5JiYucGxheV9saXN0JiZsaVxcXCIpXFxuICAgIHZhciBpbWcgPSBwZGZoKGh0bWwsXFxcIi5waWMmJmltZyYmc3JjXFxcIilcXG4gICAgdmFyIGxpc3RWaWRlb3MgPSBKU09OLnBhcnNlKGZldGNoUEMoJ2hpa2VyOi8vZmlsZXMvcnVsZXMvbW9uL+eIseWQrOmfs+S5kC9hbGJ1bS50eHQnKSB8fCAnW10nKTtcXG52YXIgc3RyID0gcGRmaChodG1sLCdoMSYmVGV4dCcpICsgJ0BAJyArIGltZyArICdAQCcgKyBNWV9VUkw7XFxuaWYgKGxpc3RWaWRlb3MuaW5kZXhPZihzdHIpID09ICctMScpIHtcXG4gICAgdmFyIHQgPSBcXFwiKOacquaUtuiXjylcXFwiLnNtYWxsKClcXG4gICAgdmFyIHAgPSBcXFwiaGlrZXI6Ly9pbWFnZXMvaWNvbl9saWtlXFxcIlxcbn0gZWxzZSB7XFxuICAgIHZhciB0ID0gXFxcIijlt7LmlLbol48pXFxcIi5mb250Y29sb3IoJ3JlZCcpLnNtYWxsKClcXG4gICAgdmFyIHAgPSBcXFwiaGlrZXI6Ly9pbWFnZXMvaWNvbl9saWtlX2ZpbGxcXFwiXFxufVxcblxcbiAgICBpZihwYWdlPT0xKXtcXG4gICAgZC5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcXG4gICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHkjJyArICdcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0JyArIHBkZmgoaHRtbCxcXFwiLmluZm8mJlRleHRcXFwiKSArIGBAcnVsZT1qczp2YXIgcmVzID0ge307IHZhciBkID0gW107ZC5wdXNoKHt0aXRsZTpNWV9VUkwuc3BsaXQoJ2hpa2VyOi8vZW1wdHkjJylbMV0sY29sX3R5cGU6ICdsb25nX3RleHQnfSk7cmVzLmRhdGEgPSBkOyBzZXRIb21lUmVzdWx0KHJlcyk7YCxcXG4gICAgICAgIGNvbF90eXBlOiBcXFwidGV4dF8xXFxcIixcXG4gICAgICAgIGV4dHJhOntcXG4gICAgICAgICAgICBsaW5lVmlzaWJsZTpmYWxzZVxcbiAgICAgICAgfVxcbiAgICB9LHtcXG4gICAgICAgICAgICAgICAgLy90aXRsZTogcGRmaChodG1sLFxcXCIucGxheV9saXN0JiZoMSYmVGV4dFxcXCIpK3QsXFxuICAgICAgICAgICAgICAgIHRpdGxlOiBwZGZoKGh0bWwsXFxcIi5wbGF5X2xpc3QmJi5wYWdlZGF0YSYmVGV4dFxcXCIpLnNtYWxsKCksXFxuICAgICAgICAgICAgICAgIHBpY191cmw6IGltZyxcXG4gICAgICAgICAgICAgICAgdXJsOiBcXFwidG9hc3Q6Ly9cXFwiK3BkZmgoaHRtbCxcXFwiLnBsYXlfbGlzdCYmLnBhZ2VkYXRhJiZUZXh0XFxcIiksXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFwiaWNvbl9zbWFsbF8zXFxcIlxcbiAgICAgICAgICAgIH0se1xcbiAgICAgICAgICAgICAgICB0aXRsZTogdCxcXG4gICAgICAgICAgICAgICAgcGljX3VybDogcCxcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6IFxcXCJpY29uX3NtYWxsXzNcXFwiLFxcbiAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKG5hbWUpID0+IHtcXG4gICAgICAgICAgICAgICAgdmFyIHN0ciA9IGZldGNoUEMoJ2hpa2VyOi8vZmlsZXMvcnVsZXMvbW9uL+eIseWQrOmfs+S5kC9hbGJ1bS50eHQnKTtcXG4gICAgICAgICAgICAgICAgaWYgKCFzdHIpIHtcXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gW25hbWVdO1xcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvcnVsZXMvbW9uL+eIseWQrOmfs+S5kC9hbGJ1bS50eHQnLCBKU09OLnN0cmluZ2lmeShsaXN0KSwwKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gSlNPTi5wYXJzZShzdHIpO1xcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3QuaW5kZXhPZihuYW1lKSA9PSAnLTEnKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAvLyBsaXN0LnB1c2gobmFtZSk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC51bnNoaWZ0KG5hbWUpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL3J1bGVzL21vbi/niLHlkKzpn7PkuZAvYWxidW0udHh0JywgSlNPTi5zdHJpbmdpZnkobGlzdCksMCk7XFxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdC5pbmRleE9mKG5hbWUpO1xcbiAgICAgICAgICAgICAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XFxuICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL3J1bGVzL21vbi/niLHlkKzpn7PkuZAvYWxidW0udHh0JywgSlNPTi5zdHJpbmdpZnkobGlzdCksMCk7XFxuICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxuICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSc7XFxuICAgICAgICAgICAgfSwgc3RyKVxcbiAgICAgICAgICAgIH0se1xcbiAgICAgICAgdGl0bGU6IFxcXCLmibnph4/mt7vliqBcXFwiLnNtYWxsKCksXFxuICAgICAgICB1cmw6JCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgocGxheV9saXN0LCBpbWcpID0+IHtcXG4gICAgY29uc3QgaGlrZXJQb3AgPSAkLnJlcXVpcmUoXFxcImh0dHA6Ly9oaWtlci5ub2tpYS5wcmVzcy9oaWtlcnVsZS9ydWxlbGlzdC5qc29uP2lkPTY5NjZcXFwiKTtcXG4gICAgbGV0IGxpc3QgPSBKU09OLnBhcnNlKGZldGNoUEMoJ2hpa2VyOi8vZmlsZXMvcnVsZXMvbW9uL+eIseWQrOmfs+S5kC9tdXNpYy50eHQnKSB8fCAnW10nKTtcXG4gICAgbGV0IG5hbWVsaXN0ID0gcGxheV9saXN0Lm1hcChzID0+IHBkZmgocywgXFxcIi5uYW1lJiZUZXh0XFxcIikpO1xcbiAgICBsZXQgbmV3bGlzdCA9IHBsYXlfbGlzdC5tYXAocyA9PiBwZGZoKHMsIFxcXCIubmFtZSYmVGV4dFxcXCIpICsgJ0BAJyArIGltZyArICdAQCcgKyBcXFwiaHR0cDovL3d3dy4ydDU4LmNvbVxcXCIgKyBwZGZoKHMsIFxcXCJhJiZocmVmXFxcIikpOyAgICBcXG4gICAgbGV0IGV4aXN0aW5nTmFtZXMgPSBuZXcgU2V0KGxpc3QubWFwKGl0ZW0gPT4gaXRlbS5zcGxpdCgnQEAnKVswXSkpO1xcbiAgICBoaWtlclBvcC5tdWx0aUNob2ljZSh7XFxuICAgICAgICB0aXRsZTogXFxcIuaJuemHj+a3u+WKoFxcXCIsXFxuICAgICAgICBvcHRpb25zOiBuYW1lbGlzdCxcXG4gICAgICAgIHJpZ2h0VGl0bGU6IFxcXCLnoa7orqRcXFwiLFxcbiAgICAgICAgcmlnaHRDbGljayhvcHRpb25zLCBjaGVja2VkKSB7XFxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkTmV3TGlzdCA9IG5ld2xpc3QuZmlsdGVyKChfLCBpKSA9PiBjaGVja2VkW2ldKTtcXG4gICAgICAgICAgICBsZXQgZmlsdGVyZWROZXdMaXN0ID0gc2VsZWN0ZWROZXdMaXN0LmZpbHRlcihpdGVtID0+ICFleGlzdGluZ05hbWVzLmhhcyhpdGVtLnNwbGl0KCdAQCcpWzBdKSk7XFxuICAgICAgICAgICAgbGV0IG9uID0gZmlsdGVyZWROZXdMaXN0Lmxlbmd0aDtcXG4gICAgICAgICAgICBpZiAob24gPT09IDApIHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+W3sua3u+WKoO+8jOWIq+mHjeWkjSFcXFwiO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICByZXR1cm4gJChcXFwi56Gu6K6k5re75YqgIFxcXCIgKyBvbiArIFxcXCIg6aaW5q2M5puy77yfXFxcIikuY29uZmlybSgobGlzdCxmaWx0ZXJlZE5ld0xpc3Qsb24pID0+IHtcXG4gICAgICAgICAgICAgICAgbGlzdCA9IGZpbHRlcmVkTmV3TGlzdC5jb25jYXQobGlzdCk7XFxuICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL3J1bGVzL21vbi/niLHlkKzpn7PkuZAvbXVzaWMudHh0JywgSlNPTi5zdHJpbmdpZnkobGlzdCksMCk7XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+aIkOWKn+a3u+WKoCBcXFwiICsgb24gKyBcXFwiIOmmlu+8gVxcXCI7XFxuICAgICAgICAgICAgfSxsaXN0LGZpbHRlcmVkTmV3TGlzdCxvbik7XFxuICAgICAgICB9LFxcbiAgICAgICAgbGVmdFRpdGxlOiBcXFwi5YWo6YOo5re75YqgXFxcIixcXG4gICAgICAgIGxlZnRDbGljaygpIHtcXG4gICAgICAgICAgICBsZXQgZmlsdGVyZWROZXdMaXN0ID0gbmV3bGlzdC5maWx0ZXIoaXRlbSA9PiAhZXhpc3RpbmdOYW1lcy5oYXMoaXRlbS5zcGxpdCgnQEAnKVswXSkpO1xcbiAgICAgICAgICAgIHJldHVybiAkKFxcXCLnoa7orqTmt7vliqDlhajpg6jmrYzmm7LvvJ9cXFwiKS5jb25maXJtKChsaXN0LGZpbHRlcmVkTmV3TGlzdCkgPT4ge1xcbiAgICAgICAgICAgICAgICBsaXN0ID0gZmlsdGVyZWROZXdMaXN0LmNvbmNhdChsaXN0KTtcXG4gICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvcnVsZXMvbW9uL+eIseWQrOmfs+S5kC9tdXNpYy50eHQnLCBKU09OLnN0cmluZ2lmeShsaXN0KSwwKTtcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v5re75Yqg5oiQ5Yqf77yBXFxcIjtcXG4gICAgICAgICAgICB9LGxpc3QsZmlsdGVyZWROZXdMaXN0KTtcXG4gICAgICAgIH0sXFxuICAgICAgICBjZW50ZXJUaXRsZTogXFxcIuWPlua2iFxcXCJcXG4gICAgfSk7XFxuICAgIHJldHVybiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCI7XFxufSwgcGxheV9saXN0LCBpbWcpLFxcbiAgICAgcGljX3VybDogXFxcImhpa2VyOi8vaW1hZ2VzL2ljb25fYWRkMlxcXCIsXFxuICAgICBjb2xfdHlwZTogXFxcImljb25fc21hbGxfM1xcXCJcXG4gICAgfSx7XFxuICAgICAgICBjb2xfdHlwZTogXFxcImxpbmVfYmxhbmtcXFwiXFxuICAgIH0pICAgIFxcbiAgICB9XFxuICAgIHBsYXlfbGlzdC5mb3JFYWNoKChzKSA9PiB7XFxuICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IHBkZmgocyxcXFwiLm5hbWUmJlRleHRcXFwiKVxcbiAgICAgICAgICAgICAgICBsZXQgdXJsID0gXFxcImh0dHA6Ly93d3cuMnQ1OC5jb21cXFwiK3BkZmgocyxcXFwiYSYmaHJlZlxcXCIpXFxuICAgICAgICAgICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTp0aXRsZSxcXG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsKyQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3B1YmxpY1xcXCIpLmxhenksXFxuICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiBpbWcsXFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTpcXFwiYXZhdGFyXFxcIixcXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhOntcXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdDbGljazpbe1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTpcXFwi5q2M5puy6K+m5oOFXFxcIixcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKHVybCkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybCArJ0BydWxlPWpzOiQucmVxdWlyZShcXFwibXVzaWNcXFwiKSdcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LHVybClcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIH0pXFxuc2V0UmVzdWx0KGQpXCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLmrYzmiYtcIixcInBhdGhcIjpcInNpbmdlclwiLFwicnVsZVwiOlwianM6XFxuYWRkTGlzdGVuZXIoXFxcIm9uQ2xvc2VcXFwiLCAkLnRvU3RyaW5nKCgpID0+IHtcXG4gICAgICAgIGNsZWFyTXlWYXIoXFxcImN0aXRsZVxcXCIpO1xcbiAgICAgICAgY2xlYXJNeVZhcihcXFwiY3VybFxcXCIpO1xcbn0pKTtcXG52YXIgZCA9IFtdXFxudmFyIGh0bWwgPSBmZXRjaChNWV9VUkwpXFxuY29uc3QgcGFnZSA9IE1ZX1BBR0VcXG52YXIgcGljID0gcGRmaChodG1sLFxcXCIucGljJiZpbWcmJnNyY1xcXCIpXFxudmFyIGF1dGhvciA9IHBkZmgoaHRtbCxcXFwiaDEmJlRleHRcXFwiKVxcbnNldFBhZ2VUaXRsZShhdXRob3IpXFxuaWYocGFnZT09MSl7XFxuZC5wdXNoKHtcXG4gICAgcGljX3VybDogcGljLFxcbiAgICB1cmw6IHBpYyxcXG4gICAgZGVzYzogJzAnLFxcbiAgICBjb2xfdHlwZTpcXFwiY2FyZF9waWNfMlxcXCIgICBcXG59LHtcXG4gICAgdGl0bGU6ICfigJzigJzigJ3igJ0nK2F1dGhvci5mb250Y29sb3IoJyM1OTU5QUInKS5iaWcoKStcXFwiXFxcXG5cXFxcblxcXCIrcGRmaChodG1sLFxcXCIuaW5mbyYmVGV4dFxcXCIpLnN1YnN0cigwLCA2NikuZm9udGNvbG9yKCcjNTk1OUFCJykuc21hbGwoKSxcXG4gICAgdXJsOiAnaGlrZXI6Ly9lbXB0eSMnICsgJ1xcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHQnICsgcGRmaChodG1sLFxcXCIuaW5mbyYmVGV4dFxcXCIpICsgYEBydWxlPWpzOnZhciByZXMgPSB7fTsgdmFyIGQgPSBbXTtkLnB1c2goe3RpdGxlOk1ZX1VSTC5zcGxpdCgnaGlrZXI6Ly9lbXB0eSMnKVsxXSxjb2xfdHlwZTogJ2xvbmdfdGV4dCd9KTtyZXMuZGF0YSA9IGQ7IHNldEhvbWVSZXN1bHQocmVzKTtgLFxcbiAgICBkZXNjOiAnMCcsXFxuICAgIHBpY191cmw6ICdodHRwczovL2hqZGhueC5jb2RpbmcubmV0L3AvaGlrZXIvZC9kci9naXQvcmF3L21hc3Rlci9pbWcveXVlZHUvMTMuanBnJyxcXG4gICAgY29sX3R5cGU6IFxcXCJjYXJkX3BpY18yXFxcIixcXG4gICAgZXh0cmE6IHtcXG4gICAgICAgIGdyYWRpZW50OiB0cnVlXFxuICAgIH1cXG59KVxcbnZhciBjbGEgPSBwZGZhKGh0bWwsXFxcIi5pbGluZ2t1X2ZsJiZsaVxcXCIpXFxuICAgIGNsYS5mb3JFYWNoKHggPT4ge1xcbiAgICAgICAgbGV0IGN0aXRsZSA9IHBkZmgoeCxcXFwiYSYmVGV4dFxcXCIpXFxuICAgICAgICBsZXQgY3VybCA9IHBkKHgsXFxcImEmJmhyZWZcXFwiLE1ZX1VSTClcXG4gICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IGdldE15VmFyKCdjdGl0bGUnLCBcXFwi5pyA5paw5q2M5puyXFxcIikgPT0gY3RpdGxlID8gJ+KAnOKAnOKAneKAnScrY3RpdGxlLmZvbnRjb2xvcigncmVkJykuc21hbGwoKTogJ+KAnOKAnOKAneKAnScrY3RpdGxlLnNtYWxsKCksXFxuICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIyNub0hpc3RvcnkjJykubGF6eVJ1bGUoKGN0aXRsZSxjdXJsKSA9PiB7XFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKFxcXCJjdGl0bGVcXFwiLCBjdGl0bGUpO1xcbiAgICAgICAgICAgICAgICBwdXRNeVZhcihcXFwiY3VybFxcXCIsY3VybCk7XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XFxuICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSdcXG4gICAgICAgICAgICB9LCBjdGl0bGUsY3VybCksXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXCJmbGV4X2J1dHRvblxcXCJcXG4gICAgICAgIH0pO1xcbiAgICB9KVxcbiAgICB9XFxuICAgIHZhciBzdXJsID0gZ2V0TXlWYXIoXFxcImN1cmxcXFwiLE1ZX1VSTClcXG4gICAgLy9sb2coc3VybClcXG4gICAgaWYgKGdldE15VmFyKFxcXCJjdGl0bGVcXFwiLFxcXCLmnIDmlrDmrYzmm7JcXFwiKSA9PSBcXFwi5pyA5paw5q2M5puyXFxcIikge1xcbiAgICAgICAgdmFyIGh0bWxzID0gZmV0Y2goTVlfVVJMLnJlcGxhY2UoLy5odG1sLyxgLyR7cGFnZX0uaHRtbGApKVxcbiAgICAgICAgdmFyIHRhZ3MgPSBcXFwiLnBsYXlfbGlzdCYmbGlcXFwiXFxuICAgIH1lbHNle1xcbiAgICAgICAgdmFyIGh0bWxzID0gZmV0Y2goc3VybC5yZXBsYWNlKC8uaHRtbC8sYC8ke3BhZ2V9Lmh0bWxgKSlcXG4gICAgICAgIHZhciB0YWdzID0gXFxcIi52aWRlb19saXN0JiZsaVxcXCJcXG4gICAgfVxcbiAgICB2YXIgbGlzdCA9IHBkZmEoaHRtbHMsdGFncyk7XFxubGlzdC5mb3JFYWNoKChzKT0+IHtcXG4gICAgICAgICAgICAgICAgbGV0IGltZyA9IHBkZmgocyxcXFwiaW1nJiZzcmNcXFwiKS5yZXBsYWNlKC8xMjAvLCc1MDAnKS5zcGxpdCgnPycpWzBdXFxuICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IHBkZmgocyxcXFwiLm5hbWUmJlRleHRcXFwiKVxcbiAgICAgICAgICAgICAgICBsZXQgc3VybCA9IFxcXCJodHRwOi8vd3d3LjJ0NTguY29tXFxcIitwZGZoKHMsXFxcImEmJmhyZWZcXFwiKVxcbiAgICAgICAgICAgICAgICBsZXQgdXJsXFxuICAgICAgICAgICAgICAgIGlmKC9zb25nLy50ZXN0KHN1cmwpKXtcXG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHN1cmwrJC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvcHVibGljXFxcIikubGF6eVxcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZigvdmlkZW8vLnRlc3Qoc3VybCkpe1xcbiAgICAgICAgICAgICAgICAgICAgdXJsPSBzdXJsKyQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3B1YmxpY1xcXCIpLk1WXFxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKC9hbGJ1bS8udGVzdChzdXJsKSl7XFxuICAgICAgICAgICAgICAgICAgICB1cmw9IHN1cmwucmVwbGFjZSgvLmh0bWwvLGAvZnlwYWdlLmh0bWxgKSsnQHJ1bGU9anM6JC5yZXF1aXJlKFxcXCJwbGF5bGlzdFxcXCIpJ1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvcHVibGljXFxcIikuZm9ybWF0U29uZ1RpdGxlKHRpdGxlLGF1dGhvciksXFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcXG4gICAgICAgICAgICAgICAgICAgIHBpY191cmw6IGltZz9pbWc6cGljLFxcbiAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IGltZz9cXFwiY2FyZF9waWNfM1xcXCI6XFxcImF2YXRhclxcXCIsXFxuICAgICAgICAgICAgICAgICAgICBleHRyYTp7XFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdFRpdGxlOiBmYWxzZSxcXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6ICgvc29uZy8udGVzdChzdXJsKSA/IFt7XFxuICAgICAgICB0aXRsZTogXFxcIuatjOabsuivpuaDhVxcXCIsXFxuICAgICAgICBqczogJC50b1N0cmluZygoc3VybCkgPT4ge1xcbiAgICAgICAgICAgIHJldHVybiBzdXJsICsgJ0BydWxlPWpzOiQucmVxdWlyZShcXFwibXVzaWNcXFwiKSdcXG4gICAgICAgIH0sIHN1cmwpXFxuICAgIH1dIDogW10pXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH0pICAgXFxuICAgIH0pXFxuc2V0UmVzdWx0KGQpXCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLmrYzmm7JcIixcInBhdGhcIjpcIm11c2ljXCIsXCJydWxlXCI6XCJqczpcXG52YXIgZCA9IFtdXFxubGV0IGh0bWwgPSBmZXRjaChNWV9VUkwpXFxuICAgIGxldCB0aXRsZSA9IHBkZmgoaHRtbCwnaDEmJlRleHQnKS5yZXBsYWNlKCcg5Yi35pawJywnJylcXG4gICAgbGV0IHBsYXlfbGlzdCA9IHBkZmEoaHRtbCxcXFwiYm9keSYmLnBsYXlfbGlzdFxcXCIpXFxuICAgIGxldCBkanBpYyA9IHBkZmgoaHRtbCxcXFwiLmRqcGljJiZpbWcmJnNyY1xcXCIpLnJlcGxhY2UoL2ltZzEvLCdpbWcyJykucmVwbGFjZSgnMzAwJywnNjAwJylcXG4gICAgbGV0IGF1dGhvciA9IHBkZmgoaHRtbCxcXFwiLnBsYXlfc2luZ2VyJiYubmFtZSYmVGV4dFxcXCIpXFxuICAgIGxldCBpbmZvID0gcGRmaChodG1sLFxcXCIucGxheV9zaW5nZXImJi5pbmZvJiZUZXh0XFxcIilcXG4gICAgbGV0IHN1cmwgPSBwZChodG1sLFxcXCIucGxheV9zaW5nZXImJmEmJmhyZWZcXFwiKVxcbiAgICBsZXQgc3BpYyA9IHBkZmgoaHRtbCxcXFwiLnBsYXlfc2luZ2VyJiZpbWcmJnNyY1xcXCIpXFxuICAgIGxldCBhbGJ1bV91cmwgPSBwZChodG1sLFxcXCIuc20mJmEmJmhyZWZcXFwiKVxcbiAgICBsZXQgYWxidW0gPSBwZGZoKGh0bWwsXFxcIi5zbSYmVGV4dFxcXCIpXFxuICAgIGxldCBUaXRsZSA9ICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3B1YmxpY1xcXCIpLmZvcm1hdFNvbmdUaXRsZSh0aXRsZSxhdXRob3IpXFxuICAgIHZhciBsaXN0VmlkZW9zID0gSlNPTi5wYXJzZShmZXRjaFBDKCdoaWtlcjovL2ZpbGVzL3J1bGVzL21vbi/niLHlkKzpn7PkuZAvbXVzaWMudHh0JykgfHwgJ1tdJyk7XFxudmFyIHN0ciA9IFRpdGxlICsgJ0BAJyArIGRqcGljICsgJ0BAJyArIE1ZX1VSTDtcXG5pZiAobGlzdFZpZGVvcy5pbmRleE9mKHN0cikgPT0gJy0xJykge1xcbiAgICB2YXIgdCA9IFxcXCIo5pyq5pS26JePKVxcXCIuc21hbGwoKVxcbn0gZWxzZSB7XFxuICAgIHZhciB0ID0gXFxcIijlt7LmlLbol48pXFxcIi5mb250Y29sb3IoJ3JlZCcpLnNtYWxsKClcXG59XFxuXFxuICAgIGQucHVzaCh7XFxuICAgICAgICB0aXRsZTogVGl0bGUsXFxuICAgICAgICBkZXNjOiBhbGJ1bSxcXG4gICAgICAgIHVybDogYWxidW1fdXJsLnJlcGxhY2UoLy5odG1sLyxgL2Z5cGFnZS5odG1sYCkrJ0BydWxlPWpzOiQucmVxdWlyZShcXFwicGxheWxpc3RcXFwiKScsXFxuICAgICAgICBjb2xfdHlwZTogXFxcInRleHRfY2VudGVyXzFcXFwiLFxcbiAgICAgICAgZXh0cmE6e1xcbiAgICAgICAgICAgIGxpbmVWaXNpYmxlOmZhbHNlXFxuICAgICAgICB9XFxuICAgIH0se1xcbiAgICAgICAgdXJsOlxcXCJ0b2FzdDovL+eCueWHu+WbvueJh+aSreaUvlxcXCIsXFxuICAgICAgICBjb2xfdHlwZTogXFxcImNhcmRfcGljXzNfY2VudGVyXFxcIlxcbiAgICB9LHtcXG4gICAgICAgIHBpY191cmw6IGRqcGljLFxcbiAgICAgICAgdGl0bGU6IFRpdGxlLFxcbiAgICAgICAgdXJsOiBNWV9VUkwrJC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvcHVibGljXFxcIikubGF6eSxcXG4gICAgICAgIGNvbF90eXBlOiBcXFwiY2FyZF9waWNfM19jZW50ZXJcXFwiLFxcbiAgICAgICAgZXh0cmE6e1xcbiAgICAgICAgICAgIGluaGVyaXRUaXRsZTogZmFsc2VcXG4gICAgICAgIH1cXG4gICAgfSx7XFxuICAgICAgICB1cmw6IFxcXCJ0b2FzdDovL+eCueWHu+WbvueJh+aSreaUvlxcXCIsXFxuICAgICAgICBjb2xfdHlwZTogXFxcImNhcmRfcGljXzNfY2VudGVyXFxcIlxcbiAgICB9LHtcXG4gICAgICAgIHRpdGxlOiBhdXRob3IsXFxuICAgICAgICBkZXNjOiBpbmZvLFxcbiAgICAgICAgcGljX3VybDogc3BpYyxcXG4gICAgICAgIHVybDogc3VybCsnZnlwYWdlQHJ1bGU9anM6JC5yZXF1aXJlKFxcXCJzaW5nZXJcXFwiKScsXFxuICAgICAgICBjb2xfdHlwZTogXFxcImF2YXRhclxcXCJcXG4gICAgfSlcXG4gICAgcGxheV9saXN0LmZvckVhY2goKHgpID0+IHtcXG4gICAgICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgICAgICB0aXRsZTogcGRmaCh4LFxcXCJoMSYmVGV4dFxcXCIpK3QsXFxuICAgICAgICAgICAgICAgIC8vZGVzYzogdCxcXG4gICAgICAgICAgICAgICAgcGljX3VybDogZGpwaWMsXFxuICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgobmFtZSkgPT4ge1xcbiAgICAgICAgICAgICAgICB2YXIgc3RyID0gZmV0Y2hQQygnaGlrZXI6Ly9maWxlcy9ydWxlcy9tb24v54ix5ZCs6Z+z5LmQL211c2ljLnR4dCcpO1xcbiAgICAgICAgICAgICAgICBpZiAoIXN0cikge1xcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBbbmFtZV07XFxuICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9ydWxlcy9tb24v54ix5ZCs6Z+z5LmQL211c2ljLnR4dCcsIEpTT04uc3RyaW5naWZ5KGxpc3QpLDApO1xcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBKU09OLnBhcnNlKHN0cik7XFxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdC5pbmRleE9mKG5hbWUpID09ICctMScpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgIC8vIGxpc3QucHVzaChuYW1lKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnVuc2hpZnQobmFtZSk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvcnVsZXMvbW9uL+eIseWQrOmfs+S5kC9tdXNpYy50eHQnLCBKU09OLnN0cmluZ2lmeShsaXN0KSwwKTtcXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YobmFtZSk7XFxuICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcXG4gICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvcnVsZXMvbW9uL+eIseWQrOmfs+S5kC9tdXNpYy50eHQnLCBKU09OLnN0cmluZ2lmeShsaXN0KSwwKTtcXG4gICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JztcXG4gICAgICAgICAgICB9LCBzdHIpLFxcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogXFxcInRleHRfaWNvblxcXCJcXG4gICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIGxldCBpdGVtID0gcGRmYSh4LCAnYm9keSYmbGknKTtcXHJcXG4gICAgICAgICAgICBpdGVtLmZvckVhY2goKHMpID0+IHtcXG4gICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gJ+KAnOKAnOKAneKAnScrcGRmaChzLFxcXCIubmFtZSYmVGV4dFxcXCIpLnNtYWxsKClcXG4gICAgICAgICAgICAgICAgbGV0IHVybCA9IHBkKHMsXFxcImEmJmhyZWZcXFwiKSsnQHJ1bGU9anM6JC5yZXF1aXJlKFxcXCJtdXNpY1xcXCIpJ1xcbiAgICAgICAgICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6dGl0bGUsXFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcXG4gICAgICAgICAgICAgICAgICAgIC8vcGljX3VybDogZGpwaWMsXFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTpcXFwidGV4dF8yXFxcIlxcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIH0pXFxuICAgICAgICB9KVxcbiQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3B1YmxpY1xcXCIpLuWjsOaYjihkKVxcbnNldFJlc3VsdChkKVxcbnNldFBhZ2VUaXRsZShUaXRsZSlcIn1dIiwiaWNvbiI6Imh0dHA6Ly93d3cuMnQ1OC5jb20vZmF2aWNvbi5pY28iLCJwcm94eSI6IiJ9